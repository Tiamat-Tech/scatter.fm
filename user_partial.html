<scatter-search></scatter-search>
<div class='container-fluid' style='min-width: 300px'>
  <div class='sidebar' id='sidebar'>
    <div class='well'>
      <div id='user'>
        User:
        <a ng-href='https://www.lsat.fm/user/{{username}}'>
          {{username}}
        </a>
      </div>
      <div id='legend_wrap' style='display:none;'>
        <h3>Artist Legend</h3>
        <ul id='legend'></ul>
      </div>
      <div class='throbber' id='fetchThrobber' style='display:none;'>
        <span id='fetchStatus'></span>
        <img src='throbber.gif'>
      </div>
      <div class='throbber' id='drawingThrobber' style='display:none;'>
        Plotting <span id="drawStatus"></span>... 
        <img src="throbber.gif">
      </div>
      <div class='api_link'>
        Data from the
        <a href='http://www.last.fm/api' id='lastfm_link'>Last.fm API</a>
      </div>
      <div class='extra-top' id='tips'>
        <h3>Tips</h3>
        <ul>
        <li>Double-click to zoom in.</li>
        <li>Scroll down to zoom out.</li>
        <li>Drag to pan.</li>
        </ul>
      </div>
      <div class='extra-top' id='share'>
        <a class='btn primary large' id='share-btn'>Share this graph</a>
      </div>
      <div class='extra-top' id='user'>
        Not
        <a class='user_link'></a>
        ?
        <br>
        <a class='btn' href='index.html' id='another_user'>View another user</a>
      </div>
    </div>
  </div>
</div>
<svg id='flot_container' ng-attr-height='{{svgHeight}}' ng-attr-width='{{svgWidth}}'>
  <g ng-repeat='scrobble in scrobbles'>
    <circle ng-attr-class='{{class(scrobble)}}' ng-attr-cx='{{x(scrobble)}}' ng-attr-cy='{{y(scrobble)}}' ng-mouseover='setActiveArtist(scrobble.artist)' r='2'>
      <title>
        {{scrobble.artist}} - {{scrobble.track}}
      </title>
    </circle>
  </g>
</svg>
<div class='modal' id='share-dialog' style='display:none;'>
  <div class='modal-header'>
    <h3>Share this graph</h3>
    <a class='close' href='javascript:void()'>x</a>
  </div>
  <div class='modal-body'>
    <p>Use this link to share the graph:</p>
    <input id='share_link' readonly='readonly' style='width:400px' value='loading...'>
  </div>
</div>
<div class='modal' id='feedback-dialog' style='display:none;'>
  <div class='modal-header'>
    <h3>Give Feedback</h3>
    <a class='close' href='javascript:void()'>x</a>
  </div>
  <div class='modal-body'>
    <p>Comments, feedback, criticism, or suggestions, I&#39;d love to hear from you!
    You can leave a 
    <a href="//markhansen.co.nz/lastfm-scattergraph/#disqus-thread">comment on my blog</a> 
    or <a href="mailto:mark@markhansen.co.nz">email me</a>.</p>
  </div>
</div>
